const address="https://www.googleapis.com/books/v1/volumes?q=",input=document.querySelector(".book-search-input"),resultDiv=document.querySelector(".book-search-result");let timeout=setTimeout(()=>{},0),searchRequest="";function getBooks(e,t){const s=new XMLHttpRequest,o=address+t;s.open("GET",o),s.addEventListener("load",()=>{const t=JSON.parse(s.responseText);e(t)}),s.send()}function resultRendering(e){let t="";document.createElement("div"),document.createElement("div"),document.createElement("div"),e.items.forEach(e=>{const s=bookTemplate(e.volumeInfo);t+=s});resultDiv.insertAdjacentHTML("afterbegin",t)}function bookTemplate({imageLinks:e=!1,title:t,authors:s,description:o="The book has no description"}){return`\n  <div class="book-search-result__item">\n    <img src="${e.thumbnail||"https://vitaldigital.us/wp-content/uploads/2017/11/book-placeholder-small.png"}" alt="Cover">\n    <h3 class="book-search-result__title">Title: <b>${t}</b></h3>\n    <div class="book-search-result__author">Authors: <b>${s}</b></div>\n    <p class="book-search-result__description">${o}</p>\n  </div>\n  `}input.addEventListener("input",(function(){clearTimeout(timeout),searchRequest=this.value,searchRequest.length>2&&(timeout=setTimeout(()=>{getBooks(resultRendering,searchRequest)},1e3))}));